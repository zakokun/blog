<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.69.2" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>又又改了一下博客的架构 &middot; 杂鱼君的博客</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://blog.zakokun.com/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://blog.zakokun.com/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://blog.zakokun.com/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://blog.zakokun.com/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
</head>

  <body class="theme-base-0d ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://blog.zakokun.com/"><h1>杂鱼君的博客</h1></a>
      <p class="lead">
       好吃懒做,眼高手低 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://blog.zakokun.com/">Home</a> </li>
        <li><a href="/tags/"> Tags </a></li><li><a href="/about/about"> About </a></li>
      </ul>
    </nav>

    <p>&copy; 2020. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>又又改了一下博客的架构</h1>
  <time datetime=2020-09-29T15:58:08&#43;0800 class="post-date">Tue, Sep 29, 2020</time>
  <p>干啥啥不行，重构第一名。</p>

<p><em>What can I do? Refactor first.</em></p>

<p>惊觉一年多没写博客了，惭愧。最近大半年做了挺多东西，想写的主题也有很多。奈何「动物森友会」「塞尔达传说旷野之息」「怪物猎人GU」实在太好玩了！他们占据了我绝大多数业余时间，根本无暇顾及博客什么的，连摄影都耽搁了。</p>

<p><em>I suddenly realized that I hadn&rsquo;t written a post for more than a year. During this time I&rsquo;ve done a lot of things. However, &lsquo;Animal Crossing,&rsquo; &lsquo;The Legon Of Zelda,&rsquo; and &lsquo;Monster Hunter GU&rsquo; are too attractive that I can&rsquo;t stop playing them! They take up most of my spare time. They are leaving me with no time for blogging or photography.</em></p>

<p>之前博客是通过「hexo」生成的，主题是大名鼎鼎的「NexT」，图片部署在「imgur」 图床。本以为这套体系一步到位不需要再折腾了，但是依然有几个问题困扰我。一是「hexo」基于 nodejs，博客生成速度实在让人难以满意，并且npm的依赖过于繁琐，每隔几个月遇到的各种包冲突和版本问题让人困扰；二是墙越来越高，国内访问日渐缓慢，已经到了不开代理无法正常访问的程度了，趁着国庆前一天上班摸鱼的时候，把博客再好好整理一番吧。</p>

<p><em>My perverse blog is based on hexo, and the blog theme is NexT - The most used theme on GitHub. The blog images are hosted on Imgur. I thought this system would be a step in the right direction and not need to pay attention to, but there are still a few problems that bother me. One is hexo is written by nodejs. I am not satisfied with the generator speed, and dependency management of npm is too tedious. The other is GFW is getting higher and higher, and the domestic access is getting slower and slower, which has reached the point where it cannot normally access without a proxy. I took advantage of the day before National Day to take a look at my blog and reorganize it.</em></p>

<p>首先是生成器，目前 hexo 的问题就是太慢，想提高速度的话，自然想到我工作主力：go。让人开心的是，<a href="https://gohugo.io/">hugo</a>就是一款用 go 编写的静态博客生成器，功能完善，主题也很丰富。通过各种 google，我找到一款很对胃口的主题：<a href="https://themes.gohugo.io/hyde/">hyde</a>，样式简洁，还能随意切换主题色，几个颜色都非常好看。</p>

<p><em>The biggest problem with hexo is generator speed. If I want to improve its speed, I naturally think of my primary programming language:golang. As luck would have it, Hugo was just the  Static-Site-Generator written by golang, which with rich functions and all kinds of themes. And searching by google,  I find a suitable theme named hyde; Witch has different styles and simple config.</em></p>

<p><a data-fancybox="gallery" href="https://static.zakokun.com/images/blog-new-theme.png">
    <img src="https://static.zakokun.com/images/blog-new-theme.png">
</a></p>

<p>剩下的就是图片问题了，国内的各路CDN服务商碍于规定，即使免费用户也需要域名备案登记。国外的CDN厂商也会遇到 imgur 一样的问题，所以参考网友的方法，新建一个 github page 仓库，把所有图片扔进去，通过一个单独的图片域名指到这个仓库，这样一个「伪」CDN就弄好了，以后如果找到了合适的CDN厂商，还能给这个域名套一层CDN，变身「真」CDN域名。</p>

<p><em>The last problem is about images. Domestic CDN company is always required to real name check-in due to the government. Internal CDN company also in the face of GFW. So I reference other bloggers that push all the images to GitHub as a new repository. Then make a new domain direct to this repository as a CDN domain. If I find a suitable free CDN in the future, I can set this domain as a real CDN domain.</em></p>

<p>翻新以后，几十个静态网页能在一秒以内生成，push到github以后，图片加载速度也很满意，不出意外的话可以使用很长时间了。不知道在我下次改博客架构之前能写几篇博文呢？（装死中）</p>

<p><em>After refactoring, dozens of static pages can be generated in less than a second. I was also satisfied with the loading speed of the images. It will last a long time without an accident. I wonder how many posts I can write before I change my blog structure next time?</em></p>

</div>

<h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "zakokun-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </main>

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-62768625-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
  </body>
</html>
